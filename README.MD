# Симуляция (console + Swing)

Небольшая симуляция «живого мира» с управлением из консоли и визуализацией на Swing.

Помимо неподвижных объектов: камней, деревьев, есть двое видов существ - это травоядные и хищники.
Травоядные - питаются травой (она постепенно растет), хищники - травоядными и -
все существа движутся по карте к своим целям по кратчайшему маршртуру.

У всех животных постепенно уменьшается здоровье (оно голодает) и если здоровье = 0, животное умирает от голода.

_О том как симуляцию запустить, как все это дело выглядит - можно увидеть ниже, но проще скачать и поиграться (:_

---

## Требования

- Java 17+
- (Опционально) Maven 3.8+

---

## Быстрый старт

### Вариант A — Запуск из IDE (стабильный запуск)

1. Откройте проект в IntelliJ IDEA / Eclipse / другой IDE
2. Запустите класс **`org.simulation.Simulation`**
3. В консоли следуйте подсказкам (см. ниже).

---

### Вариант B — Сборка и запуск **толстого JAR** (uber-jar) - возможны проблемы с кодировкой

1) Убедитесь, что в `pom.xml` подключён *maven-shade-plugin*
(в текущем - уже все "под ключ", ничего дополнительно делать не нужно).
2) Соберите и запустите (берутся базовые настройки):
```bash
mvn -q -DskipTests package
java -jar target/*-shaded.jar
```
либо:  
Запуск JAR (вариант №1 — UTF‑8):
```bash
java -Dsim.console.encoding=UTF-8 -jar target/*-shaded.jar
```
либо:  
Запуск JAR (вариант №2 — Windows‑1251):
```bash
java -Dsim.console.encoding=windows-1251 -jar target/*-shaded.jar
```
### Если запускаете из IDE (IntelliJ IDEA)
1. Откройте **Run/Debug Configurations** → вашу конфигурацию запуска.
2. В поле **VM options** добавьте **ровно один** из вариантов:
    - `-Dsim.console.encoding=UTF-8`
    - `-Dsim.console.encoding=windows-1251`
3. Запускайте обычной «зелёной кнопкой».

**Если ни 1 из способов сборки В не работает - вернитесь к способу А.**

ИЛИ если у вас ~~внезапно~~ несколько у вас несколько shaded-джаров, укажите точное имя файла, например:
```bash
java -jar target/Simulation-1.0-SNAPSHOT-shaded.jar
```

---

## Управление

### старт симуляции

Вначале вы выбираете, начать ли симуляцию (повторяемо для новой симуляции, если не наскучила/попробовать еще)
- **д** — ведет к выбору пресетов
- **н** — немедленно завершает симуляцию

### выбор пресетов

Здесь мы выбираем карту + настройки (по принципу все включено):
- **1** — маленькая *(12×12)*
- **2** — средняя (дефолт) *(20×20, по умолчанию)*
- **3** — большая *(30×30)*
- **ентер/пробел** — карта и животный мир по-умолчанию

### выбор паузы между ходами и количетсвом ходов (по умолчанию 3 секунды//бесконечное)

- **д** — ведет к возможности выбора
- **н** — нет (дефолт)

-- если да, можно выбрать цифрами паузы/ходы

## КАРТИНКИ (потом будет добвлено)

--- как только мы выбрали настройки, вы увидите справа панель симуляции (со всеми объектами и интераактивной статистикой)
--- симуляцией можно интерактивно управлять с помощью клавиш ниже

### управление (русская раскладка WASD) -

- **ф** — пауза
- **ы** — продолжить (пока не будет пауза/выход)
- **в** — сделать ровно один ход
- **ц** — выход (корректно остановить симуляцию и выйти к самому началу)

---

## Настройки при старте

~~КАРТИНКИ (примеры и пр.) - да, я помню. Будут слегка позже.~~

- Пресет карты: `1` — маленькая (12×12), `2` — средняя (20×20), `3` — большая (30×30)
- Задержка между ходами (порядка `3` сек)
- Лимит ходов (`0` — бесконечно)

---

## Логи

Подробные логи и финальный отчёт: можно посмотреть здесь: `logs/simulation.log`.
Как правило, если вам мало статистики в визуальном оформлении - смотрите строчку *==== SIMULATION REPORT ====*
(или, более детальные логи выше по файлу)





Уровни логирования настраиваются через `src/main/resources/logback.xml`.